# 算法结构框架

## 数学
* 莫比乌斯
* 杜教筛
* 狄利克雷卷积
* FFT/DFT/NTT


---
## 图论
### 树: 
* 支配树
* 虚树

---
## 字符串
* (广义)AC自动机
* (广义)KMP
* 后缀自动机


---
## 动态规划
* 斯坦纳树
* 

---
## 数据结构
* 可持久化
* 最大空凸包
* 树链剖分
* 点分治
* 边分治

---
## 几何
* k次圆交
* 

---


### 1、无源汇上下界可行流：
#### 问题简述：
给出一个有向图，每条边有流量上下界，没有源点和汇点，要求找到一种流的方法，使得每个点流入的流量与流出的流量相等，且每条边的流量都要满足上下界。

#### 建图方法：
用一个数组vv储存每个点流入流量与流出流量的差.。对于$(x,y,L,R)$，建一条 $x$ 到 $y$，流量为 $R-L$ 的边，$v[x]−=L,v[y]+=L, v[x]−=L, v[y]+=L$；之后扫一遍点，若 $v[x]>0 , v[x]>0$ ，建一条超级源点 $SS$ 到 $xx$ 流量为 $v[x]$的边；否则建一条 $x$ 到超级汇点 $TT$ ，流量为 $−v[x]$ 的边，然后跑一遍最大流。

#### 判断是否有解：
扫一遍超级源点连出去的所有边，若全部满流则有解，否则无解。

### 2、有源汇上下界可行流：
#### 问题简述：
给出一个有向图，每条边有流量上下界，有源点 $S$ 和汇点 $T$ ，要求找到一种流的方法，使得源点 $S$ 的流出量等于汇点 $T$ 的流入量，除源点汇点之外每个点流入的流量与流出的流量相等，且每条边的流量都要满足上下界。

#### 建图方法：
注意到源点的流出量等于汇点的流入量，那么可以建一条 $T$ 到 $S$ 的流量为 $inf$ 的边，那么就转化为上面的无源汇上下界可行流的问题，按照上面的方法建图即可。

#### 判断是否有解： 同上。

### 3、有源汇上下界最大流：
#### 问题简述：
给出一个有向图，每条边有流量上下界，有源点 $S$ 和汇点$T$ ，要求找到一种流的方法，使得源点 $S$ 的流出量等于汇点 $T$ 的流入量，除源点汇点之外每个点流入的流量与流出的流量相等，且每条边的流量都要满足上下界，满足这些前提的情况下，要求流量最大。

#### 建图方法：
对于 $(x,y,L,R)$，建一条超级源点 $SS$ 到 $y$ 的流量为 $L$ 的边，一条 $x$ 到超级汇点 $TT$ 的流量为 $L$ 的边，一条 $x$ 到 $y$ 的流量为 $R-L$ 的边，最后建一条汇点 $T$ 到源点 $S$ 流量为 $inf$ 的边。

#### 判断是否有解及求最大流：
判断是否有解的方法与前面的一样。 
找最大流有两种方法： 
首先一开始都要跑一次 $SS$ 到 $TT$ 判断是否有解，以下都是在进行了第一次网络流的情况下进行的。 
1、把最大流的初始值设为 $T$ 到 $S$ 这条边的流量，把 $SS$ 连出去的边清掉，把 $T$ 到 $S$ 的边删掉，再在残量网络上跑一次 $S$ 到 $T$ 的最大流，初始最大流加上这次的最大流就是答案。
2、直接跑一次 $S$ 到 $T$ 的最大流即为答案。

### 4、有源汇上下界最小流：
#### 问题简述：
给出一个有向图，每条边有流量上下界，有源点 $S$ 和汇点 $T$ ，要求找到一种流的方法，使得源点 $S$ 的流出量等于汇点 $T$ 的流入量，除源点汇点之外每个点流入的流量与流出的流量相等，且每条边的流量都要满足上下界，满足这些前提的情况下，要求流量最小。

#### 建图方法：
与有源汇上下界最大流一样。

#### 判断是否有解及求最小流：
判断是否有解的方法与前面的一样。 
#### 找最小流： 
把最小流的初始值设为 $T$ 到 $S$ 这条边的流量，把 $SS$ 连出去的边清掉，把 $T$ 到 $S$ 的边删掉，再在残量网络上跑一次 $T$ 到 $S$ 的最大流，初始最小流减去这次的最大流就是答案。
